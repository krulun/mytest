<!DOCTYPE html>
<html>
<head>
	<title>猴子王逻辑</title>
</head>
<body>
m = <input class="m" type="text" name=""><br>
n = <input class="n" type="text" name=""><br>
<button class="check">查询</button><br>
猴子王编号：<input type="text" class="king" name="">
<script type="text/javascript">
	　//　一 群猴子排成一圈，按1，2，…，n依次编号。然后从第1只开始数，数到第m只,把它踢出圈，从它后面再开始数，再数到第m只，在把它踢出去…， 如此不停的进行下去，直到最后只剩下一只猴子为止，那只猴子就叫做大王。要求编程模拟此过程，输入m、n, 输出最后那个大王的编号。用程序模拟该过程。
	function king(m,n){
		//所有的编号
		var arr = new Object();
		for(var j =1;j<=n;j++){
			arr[j] = j;
		}
		//判断是否只剩下一个猴子，如果是，退出，不是，继续执行
		//判断提出猴子的队伍，第m个



		var i =1;//每次的下标 
		var count=1;//第几次  count++, count ==m 时，取出猴子
		
		//下面多次调用的每次下标增加
		function iAdd(){
			i++;
			if(i > n){
					i = i%n;
			}
		}
		while(Object.getOwnPropertyNames(arr).length>1){
			if(count == m){
				delete arr[i];
				count = 1;
				iAdd();
				while(!arr[i]){
					if(Object.getOwnPropertyNames(arr).length == 1){
						break;
					}
					iAdd();
				}
				continue;
			}
			iAdd()
			while(!arr[i]){
				iAdd();
			}
			count ++;
		}
		var res = JSON.stringify(arr);
		var indexStart= res.indexOf(':') + 1;
		var indexend= res.indexOf('}') ;
		return res.substring(indexStart,indexend)
	}
	document.querySelector('.check').onclick = function(){
		var m = document.querySelector('.m').value;
		var n = document.querySelector('.n').value;
		var res = king(m,n);
		document.querySelector('.king').value = res;
	}
</script>
</body>
</html>